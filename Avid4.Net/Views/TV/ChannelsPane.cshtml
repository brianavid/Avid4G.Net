@{
    var channels = RemotePotato.AllTvChannelsFavouriteFirst;
    foreach (var channel in channels)
    {
        <div class="tvChannel" id="@channel.Display">
            <div class="tvChannelNumber">@channel.Id</div>
            <div class="tvChannelName"><span class="playButton">&gt;&nbsp;</span>@channel.Display</div>
            <div class="tvChannelNowNext">
                @if (channel.IsFavourite)
                {
                    var nowAndNext = RemotePotato.GetNowAndNext(channel.Name);
                    foreach (var programme in nowAndNext)
                    {
                        <div class="tvProgrammeInfo">@(programme.StartTime.ToLocalTime().ToString("HH:mm")) @programme.Title</div>
                    }
                }
                else
                {
                    <text>&nbsp;</text>
                }
            </div>
        </div>
    }
}